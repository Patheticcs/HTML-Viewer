<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Synprev</title>
    <meta name="description" content="Synprev simplifies web development by providing a real-time preview of HTML, CSS, and JavaScript code, helping both beginners and experienced developers experiment, learn, and troubleshoot with ease. Join us for a faster, smoother development experience.">
    <meta property="og:title" content="Pathetic">
    <meta property="og:image" content="/favicon.gif">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Synprev">
    <meta property="og:locale" content="en_US">
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: #1e1e1e;
        color: #f1f1f1;
        height: 100vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      }

      .toolbar {
        display: flex;
        gap: 12px;
        padding: 12px;
        border-bottom: 1px solid #444;
        align-items: center;
        justify-content: flex-start;
      }

      .action-button {
        padding: 8px 16px;
        background-color: #5c5c5b;
        color: white;
        border: none;
        border-radius: 100px;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.2s ease-in;
      }

      .action-button:hover {
        background-color: #242424;
      }

      .action-button:active {
        background: #5c5c5b;
        transform: scale(0.98);
      }

      .main-content {
        display: flex;
        flex-direction: column;
        flex: 1;
        overflow: hidden;
        height: calc(100vh - 60px);
      }

      .code-section {
        display: flex;
        flex-direction: column;
        flex: 1;
        overflow: hidden;
        border-bottom: 2px solid #444;
      }

      .tab-buttons {
        display: flex;
        background: #2c2c2c;
        padding: 5px 0;
        overflow-x: auto;
        scrollbar-width: thin;
      }

      .tab-button {
        background: #333;
        color: #8c8c8c;
        padding: 8px 20px;
        margin-right: 5px;
        border: none;
        border-radius: 4px 4px 0 0;
        cursor: pointer;
        white-space: nowrap;
        transition: background 0.2s, color 0.2s;
      }

      .tab-button.active {
        background: #1e1e1e;
        color: #f0f0f0;
      }

      .tab-button:hover {
        background: #444;
      }

      .editor-container {
        display: flex;
        flex: 1;
        position: relative;
      }

      .line-numbers {
        background-color: #2e2e2e;
        color: #888;
        font-family: 'Consolas', monospace;
        font-size: 14px;
        padding: 10px;
        text-align: right;
        user-select: none;
        min-width: 45px;
      }

      textarea {
        flex: 1;
        padding: 12px;
        font-family: 'Consolas', monospace;
        font-size: 14px;
        color: white;
        background: #1e1e1e;
        border: none;
        resize: none;
        outline: none;
        white-space: pre;
        overflow-y: auto;
        scrollbar-width: thin;
        transition: background 0.3s ease;
      }

      textarea::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }

      textarea::-webkit-scrollbar-track {
        background: #1e1e1e;
      }

      textarea::-webkit-scrollbar-thumb {
        background: #444;
        border-radius: 4px;
      }

      textarea::-webkit-scrollbar-thumb:hover {
        background: #555;
      }

      .preview-section {
        flex: 1;
        background: white;
        overflow: hidden;
        border-top: 2px solid #444;
      }

      #preview {
        width: 100%;
        height: 100%;
        border: none;
      }

      @media (max-width: 600px) {
        .toolbar {
          flex-wrap: wrap;
        }

        .action-button {
          flex: 1;
          min-width: 100px;
        }
      }
    </style>
  </head>
  <body>
    <div class="toolbar">
      <button class="action-button" id="previewBtn">Open Preview</button>
      <button class="action-button" id="runBtn">Run</button>
      <button class="action-button" id="clearBtn">Clear All</button>
    </div>
    <div class="main-content">
      <div class="code-section">
        <div class="tab-buttons">
          <button class="tab-button active" data-editor="html">HTML</button>
          <button class="tab-button" data-editor="css">CSS</button>
          <button class="tab-button" data-editor="js">JavaScript</button>
        </div>
        <div class="editor-container">
          <div class="line-numbers" id="lineNumbers"></div>
          <textarea id="editor" spellcheck="false"></textarea>
        </div>
      </div>
      <div class="preview-section">
        <iframe id="preview"></iframe>
      </div>
    </div>
    <script>
      const editor = document.getElementById('editor');
      const preview = document.getElementById('preview');
      const lineNumbers = document.getElementById('lineNumbers');
      const tabButtons = document.querySelectorAll('.tab-button');
      const code = {
        html: '',
        css: '',
        js: ''
      };
      let currentLanguage = 'html';

      function updateLineNumbers() {
        const lines = editor.value.split('\n');
        const numbers = Array.from({
          length: Math.max(lines.length, 1)
        }, (_, i) => i + 1).join('\n');
        lineNumbers.innerText = numbers;
      }

      function updatePreview() {
        const combinedHTML = `

          
					<!DOCTYPE html>
					<html>
						<head>
							<meta charset="UTF-8">
								<meta name="viewport" content="width=device-width, initial-scale=1.0">
									<style>${code.css}</style>
								</head>
								<body>
              ${code.html}
              
									<script>${code.js}<\/script>
									</body>
								</html>
        `;
        const doc = preview.contentDocument || preview.contentWindow.document;
        doc.open();
        doc.write(combinedHTML);
        doc.close();
      }

      function switchLanguage(lang) {
        if (currentLanguage === lang) return;
        code[currentLanguage] = editor.value;
        currentLanguage = lang;
        editor.value = code[lang];
        updateLineNumbers();
        tabButtons.forEach(btn => {
          btn.classList.toggle('active', btn.dataset.editor === lang);
        });
      }
      editor.addEventListener('input', () => {
        updateLineNumbers();
        code[currentLanguage] = editor.value;
        updatePreview();
      });
      editor.addEventListener('scroll', () => {
        lineNumbers.scrollTop = editor.scrollTop;
      });
      editor.addEventListener('keydown', (e) => {
        if (e.key === 'Tab') {
          e.preventDefault();
          const start = editor.selectionStart;
          const end = editor.selectionEnd;
          if (e.shiftKey) {
            const beforeSelection = editor.value.substring(0, start);
            const afterSelection = editor.value.substring(end);
            const selectedText = editor.value.substring(start, end);
            const unindentedText = selectedText.replace(/^    /gm, '');
            editor.value = beforeSelection + unindentedText + afterSelection;
            editor.selectionStart = start;
            editor.selectionEnd = start + unindentedText.length;
          } else {
            editor.value = editor.value.substring(0, start) + '    ' + editor.value.substring(end);
            editor.selectionStart = editor.selectionEnd = start + 4;
          }
          updateLineNumbers();
          code[currentLanguage] = editor.value;
        }
      });
      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          switchLanguage(button.dataset.editor);
        });
      });
      document.getElementById('previewBtn').addEventListener('click', () => {
        const previewWindow = window.open('about:blank', '_blank');
        if (previewWindow) {
          const combinedHTML = `

            
								<!DOCTYPE html>
								<html>
									<head>
										<meta charset="UTF-8">
											<meta name="viewport" content="width=device-width, initial-scale=1.0">
												<style>${code.css}</style>
											</head>
											<body>
                ${code.html}
                
												<script>${code.js}<\/script>
												</body>
											</html>
          `;
          previewWindow.document.write(combinedHTML);
          previewWindow.document.close();
        }
      });
      document.getElementById('runBtn').addEventListener('click', updatePreview);
      document.getElementById('clearBtn').addEventListener('click', () => {
        // Remove confirmation prompt, just clear the code
        code.html = '';
        code.css = '';
        code.js = '';
        editor.value = code[currentLanguage];
        updateLineNumbers();
        updatePreview();
      });
      updateLineNumbers();
      updatePreview();
    </script>
  </body>
</html>
